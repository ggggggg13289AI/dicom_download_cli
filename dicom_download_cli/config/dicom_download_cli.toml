## Orthanc CLI analysis configuration
## Enable or disable whitelist/direct keyword checks at runtime.
## This file is optionalâ€”if absent, defaults defined in code are used.

## Runtime settings (all optional; CLI overrides TOML; code defaults last)
analyze_url = "http://10.103.51.1:8000/api/v1/series/dicom/analyze/by-upload"
modality = "INFINTT-SERVER"
target = "RADAX"
url = "http://10.103.51.1:8042/"
# username = ""
# password = ""
concurrency = 5
report_csv = "report.csv"
report_json = "report.json"

download_all = true
enable_direct_keywords = false
enable_whitelist = false

# Series types that should trigger a download when the Analyze API returns them.
series_whitelist = [
  "ADC",
  "DWI",
  "DWI0",
  "DWI1000",
  "SWAN",
  "MRA_BRAIN",
  "T1FLAIR_AXI",
  "T1BRAVO_AXI",
  "T2FLAIR_AXI",
  "ASLSEQ",
  "ASLSEQATT",
  "ASLSEQATT_COLOR",
  "ASLSEQCBF",
  "ASLSEQCBF_COLOR",
  "ASLSEQPW",
  "ASLPROD",
  "ASLPRODCBF",
  "ASLPRODCBF_COLOR",
  "DSC",
  "DSCCBF_COLOR",
  "DSCCBV_COLOR",
  "DSCMTT_COLOR",
]

# Series descriptions that should always download regardless of analysis.
direct_download_keywords = [
  "MRA_BRAIN",
]

## dcm2niix conversion settings
[conversion]
# Enable dcm2niix conversion (can be overridden by --convert flag)
enabled = false

# dcm2niix executable path (default: assumes in PATH)
dcm2niix_path = "dcm2niix"

# dcm2niix arguments
# -z y = gzip compression (.nii.gz output)
# -b y = generate BIDS JSON sidecar
dcm2niix_args = ["-z", "y", "-b", "y"]

# Delete DICOM files after successful conversion (default: false)
delete_dicom_after_conversion = false

## Per-instance analysis settings (for DWI0/DWI1000 separation)
[per_instance]
# Enable per-instance analysis (default: false)
# When enabled, series matching trigger_prefixes will have each instance
# analyzed individually to determine its series_type folder.
enabled = true

# Series type prefixes that trigger per-instance analysis.
# E.g., ["DWI"] matches DWI, DWI0, DWI1000 returned by Analyze API.
trigger_prefixes = ["DWI"]

# Concurrency limit for Analyze API calls per series (default: 3)
analyze_concurrency = 3
